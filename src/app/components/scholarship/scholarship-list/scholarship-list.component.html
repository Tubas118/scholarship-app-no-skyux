<main>
  <div class="lrock-table">
    <div class="lrock-header">
      <div class="lrock-cell-4">{{ 'scholarship_scholarshipName_label.message' | translate }}</div>
      <div class="lrock-cell-1">{{ 'scholarship_code_short_label.message' | translate }}</div>
      <div class="lrock-cell-2">{{ 'scholarship_targetAmount_label.message' | translate }}</div>
      <div class="lrock-cell-5">{{ 'tasks_label.message' | translate }}</div>
    </div>
    <div *ngFor="let entry of scholarshipGridData | async" class="lrock-row lrock-selectable" (click)="editRecord(entry.id)">
      <div class="lrock-cell-4">
        {{ entry.scholarshipName }}
        <div *ngIf="entry.openTasks?.length > 0 && isValidDeadlineDate(entry)" class="lrock-indent {{deadlineDateAlertLevelClass(entry)}}">
          (Due: {{ entry.deadlineDate }})
        </div>
      </div>
      <div class="lrock-cell-1">{{ entry.code }}</div>
      <div class="lrock-cell-2 lrock-right">{{ entry.targetAmount | currency }}</div>
      <div class="lrock-cell-5">
        {{ 'tasks_open_label.message' | translate }}: {{ entry.openTasks?.length || 0 }}
        - {{ 'tasks_total_label.message' | translate }}: {{ entry.tasks?.length || 0 }}
        <div *ngFor="let taskEntry of entry.openTasks" class="lrock-indent-wrap">
          {{ taskEntry?.summary }}
          {{ taskEntry?.priority }}
          <span *ngIf="taskEntry?.deadlineDate !== undefined">
            <br/>
            <span class="lrock-indent-wrap-extended {{deadlineDateAlertLevelClass(taskEntry)}}">
              (Due: {{ taskEntry?.deadlineDate }})
            </span>
          </span>
        </div>
      </div>
    </div>
  </div>
</main>
